<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Websockets and Heroku</title>
</head>
<body>
  <p id="server-time"></p> 
  <script type="text/javascript">
    /*
    location.origin: Return the protocol, hostname and port number of a URL. Something like:
    "https://dsi-ws-example.herokuapp.com"
    */
    let HOST = location.origin.replace(/^http/,'ws'); // "wss://dsi-ws-example.herokuapp.com"
    let ws = new WebSocket(HOST);
    let element = document.getElementById("server-time");

    ws.onmessage = (event) => {
      element.innerHTML = "Server time: "+event.data;
    }; 
  </script>
</body>
</html>
